<% layout("/layouts/boilerplate")%>
  <style>
    #filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 1.4rem;
      margin-bottom: 1.4rem;
      align-items: center;
      }
      .filter{
      text-align: center;
      margin-right: 2rem;
      opacity: 0.8;
      cursor: pointer;
    }
    .filter:hover{
      opacity: 1;
      text-decoration: underline;
      text-underline-offset:0.8rem ;
      text-decoration-thickness:0.1rem ;
      /* text-decoration-skip:0.2rem; */
    }
    .tax-toggle{
      
    border: 1.7px solid rgb(0, 0, 0,0.4);
    padding: 0.6rem 1.3rem;
    border-radius: 1.7rem;
    margin-top: 0.1rem;
    
    }
    .form-switch{
      opacity: 0.7;
      font-size: 1.17rem;
    }
    .form-switch:hover{
      opacity: 1;
    }
    .filter p{
      margin-bottom: 0;
    }

    

  </style>



  <div id="filters">
    <div class="filter">
      <div>
        <div class="icon"><i class="fa-solid fa-fire "></i></div>
        <p>Trending</p>
      </div>
    </div>
    <div class="filter">
      <div class="icon"><i class="fa-solid fa-bed "></i></div>
      <p>Rooms</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-mountain-city "></i></div>
      <p>Iconic cities</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-mountain "></i></div>
      <p>Mountain</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-person-swimming"></i></div>
      <p>Pools</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-campground "></i></div>
      <p>Camping</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-cow "></i></div>
      <p>Farms</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-regular fa-snowflake"></i></div>
      <p>Arctic</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-igloo "></i></div>
      <p>Domes</p>
    </div>
    <div class="filter swiper-slide">
      <div class="icon"><i class="fa-solid fa-ship"></i></div>
      <p>Boats</p>
    </div>
    <div button class="tax-toggle">
    <div button class="form-check-reverse form-switch ">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Display Taxes</label>
    </div>
  </div>
  </div>


  <body>
    <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-1 g-4">
      <% for (let listings of allListings){ %>
        <a href="/listings/<%=listings._id%>" class="card-anchor">
          <div class="col">
            <div class="listing-card">
              <img src="<%=listings.image.url%>" class="card-img-top" alt="listing_image" style="height: 16rem;">
              <div class="card-body">
                <h6 class="card-title">
                  <%= listings.title %>
                </h6>
                <p class="card-text" style="font-size: 0.88rem;">&#8377;<%= listings.price.toLocaleString("en-IN") %>
                <i class="displayTax" style="display: none;">&nbsp;&nbsp;+18% GST</i>
                </p>

              </div>
            </div>
          </div>
        </a>
        <% } %>
    </div>

  </body>

  <script>
    let taxSwitch = document.getElementById("flexSwitchCheckDefault");
    let displayTax=document.getElementsByClassName("displayTax");
    taxSwitch.addEventListener('click',()=>{
      for(i of displayTax){
      if(taxSwitch.checked===true){
        i.style.display="inline";
      }
      else{
        i.style.display="none";
      }
    }
    })
  </script>